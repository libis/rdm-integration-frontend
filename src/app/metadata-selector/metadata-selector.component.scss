/*
	Styling notes for Metadata Selector
	- Uses PrimeNG CSS variables so colors follow the active theme (light/dark).
	- Removes the small bottom-left background gap by eliminating padding and
		ensuring treetable wrapper inherits the background.
	- Avoids hardcoded colors; uses semantic variables for accessibility.
*/
/* Ensure TreeTable area uses theme background in both light and dark modes */
:host {
	display: block;
	/* Reuse compare palette variable names if page shown together for consistency */
	--action-green: #1b5e36;
	--action-amber: #925b10;
	--lm-tint-green: #e6f6ed;
	--lm-tint-amber: #fff3e0;
	--dm-bg-green: #284d33;
	--dm-bg-amber: #5c3a10;
	--fg-green-dark: #d9f2e1;
	--fg-amber-dark: #ffe3c2;
	--fg-green-light: #114226;
	--fg-amber-light: #5a3605;

	/* defaults assume dark */
	--md-copy-bg: var(--dm-bg-green);
	--md-copy-fg: var(--fg-green-dark);
	--md-custom-bg: var(--dm-bg-amber);
	--md-custom-fg: var(--fg-amber-dark);
}

:root[data-theme='light'] app-metadata-selector,
:root:not([data-theme='dark']) app-metadata-selector {
	--md-copy-bg: var(--lm-tint-green);
	--md-copy-fg: var(--action-green);
	--md-custom-bg: var(--lm-tint-amber);
	--md-custom-fg: var(--action-amber);
}

.treetable-cell {
	padding: 0; /* Remove inner gaps causing corner artifacts */
}

/* PrimeNG TreeTable wrapper adjustments */
:host ::ng-deep .p-treetable {
	width: 100%;
	background: var(--p-content-background);
	color: var(--p-text-color);
	border-color: var(--p-content-border-color);
}

/* Header styling follows theme */
:host ::ng-deep .p-treetable .p-treetable-thead > tr > th {
	background: var(--p-accordion-header-background);
	color: var(--p-text-color);
	border-color: var(--p-content-border-color);
}

/* Body cells consistent with theme */
:host ::ng-deep .p-treetable .p-treetable-tbody > tr > td {
	background: var(--p-content-background);
	color: var(--p-text-color);
	border-color: var(--p-content-border-color);
}

/* Fill available width to avoid bottom-left missing background in some themes */
:host ::ng-deep .p-treetable .p-treetable-wrapper {
	background: var(--p-content-background);
}

/* Toggle icon column alignment */
.icon_col {
	width: 8rem;
}

/* Row highlight colors use semantic variables; mapping for existing inline styles remains */
/* Copy (green) and Custom (amber) action highlights. We blend with background so contrast works in dark/light. */
.copy-row {
	background-color: var(--md-copy-bg);
	color: var(--md-copy-fg);
	font-weight: 500;
}

.custom-row {
	background-color: var(--md-custom-bg);
	color: var(--md-custom-fg);
	font-weight: 500;
}

/* Provide subtle border separation so adjacent highlighted rows remain distinguishable */
.copy-row td, .custom-row td {
	border-top: 1px solid var(--p-content-border-color, rgba(255,255,255,0.08));
	border-bottom: 1px solid var(--p-content-border-color, rgba(255,255,255,0.08));
}

/* Hover emphasis */
.copy-row:hover td, .custom-row:hover td {
	box-shadow: inset 0 0 0 1px var(--p-primary-color, #3b82f6);
}

